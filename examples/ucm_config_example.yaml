# UCM Configuration File Example
# 
# This file demonstrates how to configure UCM using YAML.
# You can use this config file by setting the path to this file in kv_connector_extra_config in launch script or command line like this:
# kv_connector_extra_config={"UCM_CONFIG_FILE": "/workspace/unified-cache-management/examples/ucm_config_example.yaml"}
#
# Alternatively, you can still use kv_connector_extra_config in KVTransferConfig
# for backward compatibility.

# Connector name (e.g., "UcmNfsStore", "UcmDramStore")
ucm_connectors:
  backend:
    ucm_connector_name: "UcmPosixStore"
    ucm_connector_config:
      backends: "/home/share/qyh-test"
      transfer_io_direct: true
      transfer_stream_number: 16
  cache:
    ucm_connector_name: "UcmCacheStore"
    ucm_connector_config:
      share_buffer_enable: true
      waiting_queue_depth: 16
      running_queue_depth: 1024
      transfer_timeout_ms: 30000

load_only_first_rank: false

# Enable UCM metrics so they can be monitored online via Grafana and Prometheus.
# metrics_config_path: "/workspace/unified-cache-management/examples/metrics/metrics_configs.yaml"

# Sparse attention configuration
# Format 1: Dictionary format (for methods like ESA, KvComp)
# ucm_sparse_config:
#   ESA:
#     init_window_sz: 1
#     local_window_sz: 2
#     min_blocks: 4
#     sparse_ratio: 0.3
#     retrieval_stride: 5
  # Or for GSA:
  # GSA: {}


# Whether to use layerwise loading/saving (optional, default: True for UCMConnector)
# use_layerwise: true
# hit_ratio: 0.9

